{"uid":"b047d0fca23a3020","name":"用未注册的账号邮箱密码登录","fullName":"script.login.test_login.TestLogin#test_login_unregistered_email","historyId":"726f5f7c4979a85b8072a1f1445b7f18","time":{"start":1736404568191,"stop":1736404598580,"duration":30389},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'source'","statusTrace":"self = <test_login.TestLogin object at 0x0000029CB8AA53A0>\ndesc = '用未注册的账号邮箱密码登录', email = 'dengl@163.com', password = 'dl158420334'\n\n    @allure.story(\"用未注册的账号邮箱密码登录\")\n    @pytest.mark.parametrize(\"desc, email, password\", read_aiisland_json(BaseDir + '/data/login'\n                                                                                   '/login_unregistered_email'\n                                                                                   '.json'))\n    def test_login_unregistered_email(self, desc, email, password):\n        allure.dynamic.title(desc)\n>       self.login_proxy.login_unregistered_email(email, password)\n\ntest_login.py:168: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\..\\page\\login\\login_page.py:387: in login_unregistered_email\n    self.login_handle.click_start_btn()\n..\\..\\page\\login\\login_page.py:187: in click_start_btn\n    element = self.login_page.find_start_btn()\n..\\..\\page\\login\\login_page.py:79: in find_start_btn\n    return self.find_element(self.start_btn_loc)\n..\\..\\base\\base_page.py:43: in wrapper\n    result = func(*args, **kwargs)\n..\\..\\base\\base_page.py:16: in wrapper\n    return func(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <page.login.login_page.LoginPage object at 0x0000029CB8AA5880>\nlocator = ('xpath', '//*[@label=\"登录\"]')\n\n    @wait_after()\n    @retry_on_connection_error()\n    def find_element(self, locator):\n        \"\"\"\n        查找元素\n        :param locator: 元素定位元组，(定位方式, 定位表达式)\n        :return: 元素对象\n        \"\"\"\n        locator_type, locator_value = locator\n    \n        # 最多等待30秒\n        start_time = time.time()\n        while time.time() - start_time < 30:\n            try:\n                if locator_type == \"xpath\":\n                    element = self.driver(xpath=locator_value)\n                elif locator_type == \"name\":\n                    element = self.driver(name=locator_value)\n                elif locator_type == \"label\":\n                    element = self.driver(label=locator_value)\n                elif locator_type == \"predicate\":\n                    element = self.driver(predicate=locator_value)\n                elif locator_type == \"class_name\":\n                    element = self.driver(className=locator_value)\n                else:\n                    raise ValueError(f\"不支持的定位方式: {locator_type}\")\n    \n                if element.exists:\n                    print(f\"找到元素: {locator_type}={locator_value}\")\n                    return element\n            except Exception as e:\n                print(f\"查找元素时出错: {e}\")\n            time.sleep(0.5)\n    \n        print(f\"等待元素超时: {locator}\")\n        # 获取页面源码，帮助调试\n        print(\"当前页面结构:\")\n>       print(self.driver.source)\nE       AttributeError: 'NoneType' object has no attribute 'source'\n\n..\\..\\base\\base_page.py:123: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_xunit_setup_class_fixture_TestLogin","time":{"start":1736404379397,"stop":1736404379397,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_xunit_setup_method_fixture_TestLogin","time":{"start":1736404568191,"stop":1736404568191,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'source'","statusTrace":"self = <test_login.TestLogin object at 0x0000029CB8AA53A0>\ndesc = '用未注册的账号邮箱密码登录', email = 'dengl@163.com', password = 'dl158420334'\n\n    @allure.story(\"用未注册的账号邮箱密码登录\")\n    @pytest.mark.parametrize(\"desc, email, password\", read_aiisland_json(BaseDir + '/data/login'\n                                                                                   '/login_unregistered_email'\n                                                                                   '.json'))\n    def test_login_unregistered_email(self, desc, email, password):\n        allure.dynamic.title(desc)\n>       self.login_proxy.login_unregistered_email(email, password)\n\ntest_login.py:168: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\..\\page\\login\\login_page.py:387: in login_unregistered_email\n    self.login_handle.click_start_btn()\n..\\..\\page\\login\\login_page.py:187: in click_start_btn\n    element = self.login_page.find_start_btn()\n..\\..\\page\\login\\login_page.py:79: in find_start_btn\n    return self.find_element(self.start_btn_loc)\n..\\..\\base\\base_page.py:43: in wrapper\n    result = func(*args, **kwargs)\n..\\..\\base\\base_page.py:16: in wrapper\n    return func(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <page.login.login_page.LoginPage object at 0x0000029CB8AA5880>\nlocator = ('xpath', '//*[@label=\"登录\"]')\n\n    @wait_after()\n    @retry_on_connection_error()\n    def find_element(self, locator):\n        \"\"\"\n        查找元素\n        :param locator: 元素定位元组，(定位方式, 定位表达式)\n        :return: 元素对象\n        \"\"\"\n        locator_type, locator_value = locator\n    \n        # 最多等待30秒\n        start_time = time.time()\n        while time.time() - start_time < 30:\n            try:\n                if locator_type == \"xpath\":\n                    element = self.driver(xpath=locator_value)\n                elif locator_type == \"name\":\n                    element = self.driver(name=locator_value)\n                elif locator_type == \"label\":\n                    element = self.driver(label=locator_value)\n                elif locator_type == \"predicate\":\n                    element = self.driver(predicate=locator_value)\n                elif locator_type == \"class_name\":\n                    element = self.driver(className=locator_value)\n                else:\n                    raise ValueError(f\"不支持的定位方式: {locator_type}\")\n    \n                if element.exists:\n                    print(f\"找到元素: {locator_type}={locator_value}\")\n                    return element\n            except Exception as e:\n                print(f\"查找元素时出错: {e}\")\n            time.sleep(0.5)\n    \n        print(f\"等待元素超时: {locator}\")\n        # 获取页面源码，帮助调试\n        print(\"当前页面结构:\")\n>       print(self.driver.source)\nE       AttributeError: 'NoneType' object has no attribute 'source'\n\n..\\..\\base\\base_page.py:123: AttributeError","steps":[{"name":"登录","time":{"start":1736404568191,"stop":1736404598577,"duration":30386},"status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'source'\n","statusTrace":"  File \"D:\\python\\lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"D:\\apptest\\page\\login\\login_page.py\", line 187, in click_start_btn\n    element = self.login_page.find_start_btn()\n  File \"D:\\apptest\\page\\login\\login_page.py\", line 79, in find_start_btn\n    return self.find_element(self.start_btn_loc)\n  File \"D:\\apptest\\base\\base_page.py\", line 43, in wrapper\n    result = func(*args, **kwargs)\n  File \"D:\\apptest\\base\\base_page.py\", line 16, in wrapper\n    return func(*args, **kwargs)\n  File \"D:\\apptest\\base\\base_page.py\", line 123, in find_element\n    print(self.driver.source)\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0}],"attachments":[{"uid":"5ccc6f5d002c896a","name":"stdout","source":"5ccc6f5d002c896a.txt","type":"text/plain","size":3626}],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":1},"afterStages":[{"name":"_xunit_setup_method_fixture_TestLogin::0","time":{"start":1736404598609,"stop":1736404600610,"duration":2001},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_xunit_setup_class_fixture_TestLogin::0","time":{"start":1736404600610,"stop":1736404600610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"feature","value":"登录功能"},{"name":"story","value":"用未注册的账号邮箱密码登录"},{"name":"parentSuite","value":"script.login"},{"name":"suite","value":"test_login"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"Deng"},{"name":"thread","value":"31832-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"script.login.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"desc","value":"'用未注册的账号邮箱密码登录'"},{"name":"email","value":"'dengl@163.com'"},{"name":"password","value":"'dl158420334'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"b047d0fca23a3020.json","parameterValues":["'用未注册的账号邮箱密码登录'","'dengl@163.com'","'dl158420334'"]}